### Day 6 — Refactor into Functions (and make it usable)

**What I built**
- Created a working `weather_cli.py` that accepts city names as CLI args.
- Centralized `.env` loading next to the script with `Path(__file__).with_name(".env")` so it runs reliably from any folder.
- Updated `README.md` with exact run commands from root vs inside `week2/`.

**What I learned**
- **Functions → reuse**: wrapping API logic in `get_weather(city)` lets me call it from a CLI, scheduler, or later a web endpoint.
- **Env loading matters**: `load_dotenv()` depends on the *working directory*; pointing to the file explicitly avoids “missing key” bugs.
- **Paths & shells**: PowerShell ≠ Unix. Use `New-Item`/`Set-Content` instead of `mkdir -p`/`printf`. Also, `cd` only moves into folders (not files).
- **Run context**: VS Code’s “Run” uses an absolute path; terminal commands are relative to the current folder—hence `python week2/...` vs `python weather_one_city.py`.
- **Git paths**: `git add` paths are relative to the current directory. Being inside `week2/` means don’t prefix `week2/` again.

**Snags & fixes**
- Error: “Missing OPENWEATHER_API_KEY” → fixed by explicitly loading `week2/.env` with `Path(__file__).with_name(".env")`.
- Error: file not found when running from repo root → ran with the correct relative path (`python week2/weather_one_city.py`) or `cd week2` first.
- SyntaxError from `@'`…`'@` → realized those are PowerShell here-string markers and must not end up in `.py` files.

**Finish Log**
> I refactored the weather call into a reusable function and built a CLI that prints live temps for any city. Env loading and paths are now reliable.

### Day 7 — Weather CLI + Daily Logger

**What I built**
- Finalized a Weather CLI that accepts city args and prompts with no args.
- Added `log_weather_daily.py` that appends one row per city per day into `data/weather_log.csv`, with simple de-dupe.

**What I learned**
- Small, focused functions make CLIs and schedulers trivial to build on.
- Explicit `.env` loading with `Path(__file__).with_name(".env")` removes “where am I running?” issues.
- Appending + de-dupe is enough to create reliable time-series data for charts.

**Finish Log**
> I shipped a working CLI and a daily logger that builds a weather history automatically.

### Day 8 — Visualize & Share (Charts)

**What I built**
- `chart_weather.py` that reads `data/weather_log.csv` and saves `data/weather_chart.png`.
- Tweaked plotting to show single points (scatter) and tightened axes so early data is visible.

**What I learned**
- One point per city looks “empty” on a line chart; show a dot and tighten the x/y range.
- Matplotlib basics: `plt.plot` vs `plt.scatter`, date formatting with `matplotlib.dates`, and setting axis limits.
- File paths matter: writing/reading from a consistent `data/` folder makes scripts chain nicely.

**Snags & fixes**
- Empty-looking plot → added scatter for single-point series + axis padding.
- `NameError: plt not defined` → restored `import matplotlib.pyplot as plt` and `matplotlib.dates`.
- File name mismatch (`chart-weather.py` vs `chart_weather.py`) → ran the correct path.

**Finish Log**
> Generated and committed `weather_chart.png` from my daily CSV; chart now renders clearly even with sparse data.

### Day 9 — Make It Production-ish (Sessions, Retries, Timeouts)

**What I built**
- `http_utils.make_session()` to create a `requests.Session` with retries + exponential backoff.
- Updated `weather_cli.py` to use a shared session, a 10s timeout, clearer network/auth/404 errors, and correct °F/°C labels.

**What I learned**
- **Sessions** reuse connections → faster and less flaky than fresh `requests.get()` each time.
- **Retries + backoff** auto-handle temporary 429/500/503 errors.
- **Timeouts** prevent scripts from hanging indefinitely.
- Printing the right unit label matters (imperial vs metric).
- Avoid DEBUG logs in prod—they can leak secrets (keys in URLs).

**Finish Log**
> I hardened the CLI: added session reuse, retries, and timeouts, fixed unit labels, and verified friendly errors. Ready for daily use.

